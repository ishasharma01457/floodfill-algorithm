<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <h2>floodfill algorithm program in javascript</h2>
</body>
<script>

	
	function out(screen, e, r, x, y, oldC, newC)
	{
		if(x<0 || x>= e || y<0 || y>= r || screen[x][y]!= oldC
		|| screen[x][y]== newC)
			return false;
		return true;
	}


	
	function flood(screen, e, r, x, y, oldC, newC)
        {
		let queue = [];

		
		queue.push([x, y]);

		
		screen[x][y] = newC;

		
		while(queue.length > 0)
		{
			
			currPixel = queue[queue.length - 1];
			queue.pop();

			let posX = currPixel[0];
			let posY = currPixel[1];

			if(out(screen, e, r, posX + 1, posY, oldC, newC))
			{
				
				screen[posX + 1][posY] = newC;
				queue.push([posX + 1, posY]);
			}

			if(out(screen, e, r, posX-1, posY, oldC, newC))
			{
				screen[posX-1][posY]= newC;
				queue.push([posX-1, posY]);
			}

			if(out(screen, e, r, posX, posY + 1, oldC, newC))
			{
				screen[posX][posY + 1]= newC;
				queue.push([posX, posY + 1]);
			}

			if(out(screen, e, r, posX, posY-1, oldC, newC))
			{
				screen[posX][posY-1]= newC;
				queue.push([posX, posY-1]);
			}
		}
	}
	
	let screen =[
	[1, 3, 1, 1, 0, 1, 2, 1],
	[1, 1, 1, 1, 1, 1, 0, 0],
	[1, 0, 0, 1, 1, 3, 1, 1],
	[1, 2, 2, 2, 2, 0, 1, 0],
	[1, 1, 1, 2, 1, 0, 1, 0],
	[1, 1, 1, 3, 2, 2, 2, 0],
	[1, 1, 1, 1, 1, 2, 1, 1],
	[1, 1, 1, 1, 1, 2, 2, 1]];

	
	let e = screen.length;

	
	let r = screen[0].length;

	
	let x = 4;
	let y = 4;

	let oldC = screen[x][y];

	
	let newC = 3;

	flood(screen, e, r, x, y, oldC, newC);


	
	for(let i = 0; i < e; i++)
	{
		for(let j = 0; j < r; j++)
		{
			document.write(screen[i][j] + " ");
		}
		document.write("</br>");
	}
	
	

</script>
</html>

